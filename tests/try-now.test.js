describe("Try Now Button", () => { beforeAll(async () => { await page.goto("http://localhost:3333"); }); it("should navigate to app page when clicked", async () => { const tryNowButtons = await page.$$("a.btn"); expect(tryNowButtons.length).toBeGreaterThan(0); // Find the Try Now button by text content let tryNowButton = null; for (const button of tryNowButtons) { const text = await page.evaluate(el => el.innerText, button); if (text.includes("TRY") || text.includes("Try")) { tryNowButton = button; break; } } expect(tryNowButton).not.toBeNull(); // Click the button and wait for navigation await Promise.all([ page.waitForNavigation(), tryNowButton.click() ]); // Check that we navigated to the app page const url = page.url(); expect(url).toContain("/app"); }); });
